(function(){'use strict';if(!Element.prototype.matches){Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;}
if(!Element.prototype.closest){Element.prototype.closest=function(s){var el=this;if(!document.documentElement.contains(el)){return null;}
do{if(el.matches(s)){return el;}
el=el.parentElement||el.parentNode;}while(el!==null&&el.nodeType===1);return null;};}
window.sukiHelper={getOffset:function($el){if($el instanceof HTMLElement){var rect=$el.getBoundingClientRect();return{top:rect.top+window.pageYOffset,left:rect.left+window.pageXOffset,}}
return{top:null,left:null,};},isVisible:function($el){return $el.offsetWidth>0&&$el.offsetHeight>0;},isRTL:function(){return document.body.classList.contains('rtl');},slideUp:function(target,duration=250){if(!target)return;target.style.transitionProperty='height, margin, padding';target.style.transitionDuration=duration+'ms';target.style.height=target.offsetHeight+'px';target.offsetHeight;target.style.overflow='hidden';target.style.height=0;target.style.paddingTop=0;target.style.paddingBottom=0;target.style.marginTop=0;target.style.marginBottom=0;window.setTimeout(function(){target.removeAttribute('style');},duration);},slideDown:function(target,duration=250){if(!target)return;target.style.removeProperty('display');var display=window.getComputedStyle(target).display;if(display==='none'){display='block';}
target.style.display=display;var height=target.offsetHeight;target.style.overflow='hidden';target.style.height=0;target.style.paddingTop=0;target.style.paddingBottom=0;target.style.marginTop=0;target.style.marginBottom=0;target.offsetHeight;target.style.transitionProperty='height, margin, padding';target.style.transitionDuration=duration+'ms';target.style.height=height+'px';target.style.removeProperty('padding-top');target.style.removeProperty('padding-bottom');target.style.removeProperty('margin-top');target.style.removeProperty('margin-bottom');window.setTimeout(function(){target.style.removeProperty('height');target.style.removeProperty('overflow');target.style.removeProperty('transition-duration');target.style.removeProperty('transition-property');},duration);},slideToggle:function(target,duration=250){if(!target)return;if(window.getComputedStyle(target).display==='none'){return slideDown(target,duration);}else{return slideUp(target,duration);}},}
window.suki={initKeyboardAndMouseFocus:function(){document.body.addEventListener('keydown',function(e){document.body.classList.add('using-keyboard');});document.body.addEventListener('mousedown',function(e){document.body.classList.remove('using-keyboard');});},initDropdownMenuReposition:function(){var prop=window.sukiHelper.isRTL()?'right':'left';var calculateSubMenuEdge=function(){var $submenus=document.querySelectorAll('.suki-header-section .menu > * > .sub-menu');for(var i=0;i<$submenus.length;i++){var $submenu=$submenus[i],$section=$submenu.closest('.suki-header-section'),$container=$section.classList.contains('suki-section-contained')?$section.querySelector('.suki-section-inner'):$submenu.closest('.suki-wrapper');$submenu.style.maxWidth=$container.offsetWidth+'px';var containerEdge=$container.getBoundingClientRect().left+(window.sukiHelper.isRTL()?0:$container.getBoundingClientRect().width),submenuEdge=$submenu.getBoundingClientRect().left+(window.sukiHelper.isRTL()?0:$submenu.getBoundingClientRect().width),isSubmenuOverflow=window.sukiHelper.isRTL()?submenuEdge<containerEdge:submenuEdge>containerEdge;$submenu.classList.remove('suki-sub-menu-edge');$submenu.style[prop]='';if(isSubmenuOverflow){$submenu.classList.add('suki-sub-menu-edge');$submenu.style[prop]=-1*Math.abs(containerEdge-submenuEdge).toString()+'px';}
$submenu.style.maxHeight='none';if(window.innerHeight<$submenu.getBoundingClientRect().top+$submenu.getBoundingClientRect().height){$submenu.style.maxHeight=(window.innerHeight-$submenu.getBoundingClientRect().top)+'px';}
var $subsubmenus=$submenu.querySelectorAll('.sub-menu');for(var j=0;j<$subsubmenus.length;j++){var $subsubmenu=$subsubmenus[j],subsubmenuEdge=$subsubmenu.getBoundingClientRect().left+(window.sukiHelper.isRTL()?0:$subsubmenu.getBoundingClientRect().width),isSubsubmenuOverflow=window.sukiHelper.isRTL()?subsubmenuEdge<containerEdge:subsubmenuEdge>containerEdge;if(isSubsubmenuOverflow){$subsubmenu.classList.add('suki-sub-menu-right');}
$subsubmenu.style.maxHeight='none';if(window.innerHeight<$subsubmenu.getBoundingClientRect().top+$subsubmenu.getBoundingClientRect().height){$subsubmenu.style.maxHeight=(window.innerHeight-$subsubmenu.getBoundingClientRect().top)+'px';}}}}
var timeout;window.addEventListener('resize',function(){var $submenus=document.querySelectorAll('.suki-header-section .menu > * > .sub-menu');for(var i=0;i<$submenus.length;i++){$submenus[i].style[prop]='';$submenus[i].parentElement.classList.remove('focus');}
clearTimeout(timeout);timeout=setTimeout(calculateSubMenuEdge,100);});calculateSubMenuEdge();},initMenuAccessibility:function(){var toggleFocus=function(e){var $menu=this.closest('.suki-hover-menu'),$current=this;while($current!==$menu){if($current.classList.contains('menu-item')){if($current.classList.contains('focus')){$current.classList.remove('focus');}else{$current.classList.add('focus');}}
$current=$current.parentElement;}}
var keyboardNav=function(e){var key=e.which||e.keyCode;if(37===key){e.preventDefault();if(this.parentElement.previousElementSibling){this.parentElement.previousElementSibling.firstElementChild.focus();}}
else if(39===key){e.preventDefault();if(this.parentElement.nextElementSibling){this.parentElement.nextElementSibling.firstElementChild.focus();}}
else if(40===key){e.preventDefault();if(this.nextElementSibling){this.nextElementSibling.firstElementChild.firstElementChild.focus();}
else if(this.parentElement.nextElementSibling){this.parentElement.nextElementSibling.firstElementChild.focus();}}
else if(38===key){e.preventDefault();if(this.parentElement.previousElementSibling){this.parentElement.previousElementSibling.firstElementChild.focus();}
else if(this.parentElement.parentElement.previousElementSibling){this.parentElement.parentElement.previousElementSibling.focus();}}}
var $menuLinks=document.querySelectorAll('.suki-hover-menu .menu-item > a');for(var i=0;i<$menuLinks.length;i++){$menuLinks[i].addEventListener('focus',toggleFocus,false);$menuLinks[i].addEventListener('blur',toggleFocus,false);$menuLinks[i].addEventListener('keydown',keyboardNav,false);}},initDoubleTapMobileMenu:function(){var mobileTouch=function(e){if(this.parentElement.classList.contains('menu-item-has-children')){if(this!==document.activeElement){this.focus();e.preventDefault();}}}
var $menuLinks=document.querySelectorAll('.suki-header-menu .menu-item > a');for(var i=0;i<$menuLinks.length;i++){$menuLinks[i].addEventListener('touchend',mobileTouch,false);}},initClickToggleDropdownMenu:function(){var clickHandler=function(e){e.preventDefault();var $header=document.getElementById('masthead'),$menuItem=this.parentElement;if($menuItem.classList.contains('focus')){$menuItem.classList.remove('focus');}
else{var $focusedMenuItems=$header.querySelectorAll('.menu-item.focus');for(var i=0;i<$focusedMenuItems.length;i++){$focusedMenuItems[i].classList.remove('focus');}
$menuItem.classList.add('focus');var $searchBar=$menuItem.querySelector('.search-field');if($searchBar){setTimeout(function(){$searchBar.focus();},300);}}}
var $menuToggles=document.querySelectorAll('.suki-header-section .suki-toggle-menu .suki-sub-menu-toggle');for(var i=0;i<$menuToggles.length;i++){$menuToggles[i].addEventListener('click',clickHandler,false);$menuToggles[i].addEventListener('touchend',clickHandler,false);}
var closeToggle=function(e){if(!e.target.closest('.suki-toggle-menu')){var $header=document.getElementById('masthead'),$focusedMenuItems;if($header){$focusedMenuItems=$header.querySelectorAll('.suki-toggle-menu .menu-item.focus');for(var i=0;i<$focusedMenuItems.length;i++){$focusedMenuItems[i].classList.remove('focus');}}}};document.addEventListener('click',closeToggle,false);document.addEventListener('touchend',closeToggle,false);},initAccordionMenu:function(){var clickHandler=function(e){e.preventDefault();var $menuItem=this.parentElement,$subMenu=$menuItem.querySelector('.sub-menu');if($menuItem.classList.contains('focus')){window.sukiHelper.slideUp($subMenu);$menuItem.classList.remove('focus');var $insideMenuItems=$menuItem.querySelectorAll('.menu-item.focus');for(var i=0;i<$insideMenuItems.length;i++){window.sukiHelper.slideUp($insideMenuItems[i].querySelector('.sub-menu'));$insideMenuItems[i].classList.remove('focus');}}
else{var $siblingMenuItems=$menuItem.parentElement.querySelectorAll('.menu-item.focus');for(var i=0;i<$siblingMenuItems.length;i++){window.sukiHelper.slideUp($siblingMenuItems[i].querySelector('.sub-menu'));$siblingMenuItems[i].classList.remove('focus');}
window.sukiHelper.slideDown($subMenu);$menuItem.classList.add('focus');}}
var $menuToggles=document.querySelectorAll('.suki-header-section-vertical .suki-toggle-menu .suki-sub-menu-toggle');for(var i=0;i<$menuToggles.length;i++){$menuToggles[i].addEventListener('click',clickHandler,false);$menuToggles[i].addEventListener('touchend',clickHandler,false);}},initGlobalPopup:function(){var $clickedToggle=null;var deactivatePopup=function(device){var $activePopups=document.querySelectorAll('.suki-popup-active'+(undefined!==device?'.suki-hide-on-'+device:''));for(var j=0;j<$activePopups.length;j++){$clickedToggle.classList.remove('suki-popup-toggle-active');$activePopups[j].classList.remove('suki-popup-active');document.body.classList.remove('suki-has-popup-active');$activePopups[j].removeAttribute('tabindex');$clickedToggle.focus();}}
var $toggles=document.querySelectorAll('.suki-popup-toggle');for(var i=0;i<$toggles.length;i++){$toggles[i].addEventListener('click',function(e){e.preventDefault();var $target=document.querySelector('#'+this.getAttribute('data-target'));if(!$target)return;if($target.classList.contains('suki-popup-active')){deactivatePopup();}else{this.classList.add('suki-popup-toggle-active');$target.classList.add('suki-popup-active');document.body.classList.add('suki-has-popup-active');setTimeout(function(){$target.setAttribute('tabindex',0);$target.focus();},300);$clickedToggle=this;}},false);}
var $closes=document.querySelectorAll('.suki-popup-close');for(var i=0;i<$closes.length;i++){$closes[i].addEventListener('click',function(e){e.preventDefault();deactivatePopup();},false);}
document.body.addEventListener('keydown',function(e){var key=e.which||e.keyCode;if(document.body.classList.contains('suki-has-popup-active')&&27===key){deactivatePopup();}});window.addEventListener('resize',function(e){if(document.body.classList.contains('suki-has-popup-active')){var device='mobile';if(500<=window.innerWidth){device='tablet';}
if(1024<=window.innerWidth){device='desktop';}
deactivatePopup(device);}});var $menuLinks=document.querySelectorAll('.suki-popup a');for(var i=0;i<$menuLinks.length;i++){$menuLinks[i].addEventListener('click',function(e){if(''!==this.hash){var pageURL=(window.location.hostname+'/'+window.location.pathname).replace('/\/$/',''),linkURL=(this.hostname+'/'+this.pathname).replace('/\/$/','');if(pageURL===linkURL){if(document.body.classList.contains('suki-has-popup-active')){deactivatePopup();}}}});}},initScrollToTop:function(){var $scrollToTop=document.querySelector('.suki-scroll-to-top');if($scrollToTop){$scrollToTop.addEventListener('click',function(e){e.preventDefault();window.scrollTo({top:0,behavior:'smooth',});});if($scrollToTop.classList.contains('suki-scroll-to-top-display-sticky')){var checkStickyOffset=function(){if(window.pageYOffset>0.5*window.innerHeight){$scrollToTop.classList.add('sticky');}else{$scrollToTop.classList.remove('sticky');}}
window.addEventListener('scroll',checkStickyOffset);checkStickyOffset();}}},initAll:function(){window.suki.initKeyboardAndMouseFocus();window.suki.initDropdownMenuReposition();window.suki.initMenuAccessibility();window.suki.initClickToggleDropdownMenu();window.suki.initDoubleTapMobileMenu();window.suki.initAccordionMenu();window.suki.initGlobalPopup();window.suki.initScrollToTop();},}
document.addEventListener('DOMContentLoaded',window.suki.initAll);})();